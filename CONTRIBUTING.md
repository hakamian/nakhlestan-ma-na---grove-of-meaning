# راهنمای مشارکت در پروژه نخلستان معنا

از علاقه شما برای مشارکت در این جنبش سپاسگزاریم. این سند، استانداردهای مهندسی و اصول توسعه این پلتفرم را برای حفظ کیفیت، یکپارچگی و مقیاس‌پذیری مشخص می‌کند.

## فلسفه کدنویسی

1.  **خوانایی بر اختصار ارجح است:** کدی بنویسید که برای یک انسان (و هم‌تیمی آینده شما) قابل فهم باشد.
2.  **اصل مسئولیت واحد (Single Responsibility):** هر کامپوننت، هوک یا ابزار باید یک کار مشخص را به خوبی انجام دهد.
3.  **تکرار نکنید (Don't Repeat Yourself - DRY):** منطق‌های تکراری را در هوک‌ها یا ابزارهای `utils` متمرکز کنید.

## ساختار کامپوننت‌ها

-   **کامپوننت‌های ارائه (Presentational):** این کامپوننت‌ها فقط مسئول نمایش UI هستند و منطق تجاری ندارند. تمام داده‌ها و توابع را از طریق `props` دریافت می‌کنند. (مثال: `Certificate.tsx`)
-   **کامپوننت‌های کانتینر (Container):** این کامپوننت‌ها مسئول مدیریت وضعیت (State) و منطق تجاری هستند و داده‌ها را به کامپوننت‌های ارائه پاس می‌دهند. (مثال: `DashboardPage.tsx`)
-   **تفکیک منطق:** منطق‌های پیچیده باید در هوک‌های سفارشی (`custom hooks`) یا در `AppContext` قرار گیرند.

## مدیریت وضعیت (State Management)

-   **وضعیت سراسری (Global State):** تمام وضعیت‌های سراسری برنامه مانند اطلاعات کاربر (`currentUser`)، سبد خرید (`cart`) و وضعیت مودال‌ها در `AppContext` مدیریت می‌شود. این کار از پراکندگی وضعیت جلوگیری می‌کند.
-   **وضعیت محلی (Local State):** وضعیت‌هایی که فقط به یک کامپوننت تعلق دارند (مانند ورودی یک فرم یا باز و بسته بودن یک منو) باید با `useState` در همان کامپوننت مدیریت شوند.

## استایل‌دهی (Styling)

-   پروژه از **TailwindCSS** برای استایل‌دهی استفاده می‌کند. از کلاس‌های سفارشی تا حد امکان پرهیز کنید و از ابزارهای Tailwind بهره ببرید.
-   رنگ‌ها، فونت‌ها و فواصل در `tailwind.config.js` (در صورت وجود) یا به صورت متمرکز تعریف می‌شوند. از استفاده مستقیم از مقادیر جادویی (magic numbers) خودداری کنید.

## یکپارچگی با هوش مصنوعی (AI Integration)

-   تمام تعاملات با Gemini API باید از طریق توابع کمکی در پوشه `utils` یا مستقیماً در کامپوننت‌های مربوطه با مدیریت وضعیت `isLoading` و `error` انجام شود.
-   دستورالعمل‌های سیستمی (System Instructions) برای مدل‌های هوش مصنوعی باید به وضوح در همان فایل یا در یک فایل `prompts.ts` جداگانه تعریف شوند.

## فرمت پیام کامیت (Commit Message Format)

ما از استاندارد Conventional Commits پیروی می‌کنیم. هر پیام کامیت باید به شکل زیر باشد:

```
<type>(<scope>): <subject>
```

-   **Type:** `feat` (ویژگی جدید)، `fix` (رفع باگ)، `docs` (تغییرات مستندات)، `style` (تغییرات استایل)، `refactor` (بازنویسی کد)، `test` (افزودن تست)، `chore` (کارهای متفرقه).
-   **Scope:** (اختیاری) بخشی از کد که تحت تاثیر قرار گرفته (مثال: `auth`, `dashboard`, `admin`).
-   **Subject:** یک توضیح کوتاه و واضح از تغییرات.

**مثال:**
`feat(admin): add user segmentation to growth dashboard`
`fix(auth): resolve crash on invalid OTP`
`docs: create CONTRIBUTING.md`
